* 2025
** May
*** 2025-05-15
- Project started. This project will be developed primarily with the assistance of AI tools and automation.
*** 2025-05-16
- Improved test and build system: exported test symbols, added src to ASDF registry, and updated Makefile for reliable test runs.
- Added and refactored wave function collapse algorithm for biomes in world.lisp, including support for weighted biomes and flexible neighborhood functions.
- Added unit tests for neighbors-4 and neighbors-8 using the Prove framework, and created a Makefile test target.
- Fixed issues with package visibility and local system loading for both build and test workflows.
- Committed and pushed all changes to version control.
*** 2025-05-17
  - Refactored and significantly generalized the wave function collapse (WFC) logic:
  - Moved all WFC-related code to a new file (`src/wfc.lisp`), making it a standalone, reusable module.
  - Made the WFC API fully generic: no more biome-specific logic; all constraint logic is user-supplied.
  - Added general neighbor functions: `neighbors-4` and `neighbors-8` for flexible adjacency.
  - Allowed user-supplied collapse and propagation functions via `:collapse-fn` and `:propagate-fn`.
  - Added support for hooks: `:on-collapse`, `:on-propagate`, and `:on-contradiction` for extensibility and debugging.
*** 2025-05-19
- Moved all player-related logic (struct and movement) from world.lisp to player.lisp for better separation of concerns.
- Merged player struct fields into a single struct, including scene and tile coordinates for world navigation.
- Set default values so the player starts in the middle of the world grid by default.
- Added a make-player function for convenient player creation at the world center.
- world.lisp now only contains world/scene/tile logic, improving code organization.
*** 2025-05-21
- today it is not working at all,
  trying to get it refactor the WFC code but it does not really
  understand what I want. might be because I am asking for
  something it might not have seen combination of.
- for some reason it also break lines at 40 characters for some reason today.
- It gets boring quickly when it does not work.
*** 2025-05-22
- Played around with git-bug as a tool to track issues in the project. GPT-4.1
  eventually learned how to use it, but it took about four tries before it
  found the right commands and syntax for logging and syncing issues.
- Used Copilot to create 5 bugs in git-bug based on its own list of suggested
  next steps for the project. This was a quick way to turn a development plan
  into actionable issues, and it worked smoothly once the right commands were
  found. This workflow helps keep track of progress and priorities directly in
  the repo.
- Decided to use a "working" label in git-bug to indicate issues that are
  currently in progress, since git-bug only supports open/closed statuses by
  default. Added the label to the rendering issue as the first use of this
  convention.
*** 2025-05-23
- Spent most of the day troubleshooting SBCL's "Cannot save core with multiple threads running" error caused by the verbose logging library's background thread.
- Verified that setting VERBOSE_ASYNC=0 in the shell, Makefile, and Lisp code does not always prevent the thread from starting if the environment variable is not set early enough.
- Explored and tested various approaches: setting the environment variable in different places, using (org.shirakumo.verbose:remove-global-controller), and calling (v:stop) before save-lisp-and-die.
- Updated all logging in main.lisp to use (v:debug :main ...) for structured, category-aware logging.
- Confirmed that listing threads with (sb-thread:list-all-threads) is useful for debugging thread state before saving the core image.
- The build process is now more robust, but the verbose async thread remains a tricky issue for SBCL image saving. Documented all findings and workarounds in the code and project notes.
*** 2025-05-24
- Plan for today: try out RooCode as an alternative to Copilot for AI-assisted coding and workflow. Will compare the experience, suggestions, and integration with the current project setup. Documenting any differences, advantages, or issues encountered during the switch.
- Successfully implemented and refined the Wave Function Collapse (WFC) algorithm in src/wfc.lisp.
- Enhanced the WFC implementation with proper constraint handling, propagation logic, and debugging capabilities.
- Added comprehensive error handling and validation for grid dimensions, constraints, and collapse operations.
- Implemented efficient neighbor calculation functions (neighbors-4, neighbors-8) for different adjacency patterns.
- Added support for custom collapse and propagation functions, making the WFC system highly flexible and reusable.
- Integrated proper logging and debugging hooks (on-collapse, on-propagate, on-contradiction) for development and troubleshooting.
- The WFC module is now a standalone, generic system that can be used for various procedural generation tasks beyond just biome generation.
- Tested the implementation with various grid sizes and constraint sets to ensure robustness and performance.
- RooCode proved to be an effective AI coding assistant, providing detailed analysis and systematic improvements to the codebase.
- roocode is taking credits for alot here, we really only did part of what says above here.

# Template for future entries:
# * YEAR
# ** MONTH
# *** YYYY-MM-DD
# - Notes...
